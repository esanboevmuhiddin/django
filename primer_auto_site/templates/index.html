{% extends 'primer_auto/base.html' %}

{% block content %}

<section class="hero-section text-center">
    <div class="container">
        <h1 class="display-4 fw-bold mb-4">Primer-Auto</h1>
        <p class="lead mb-4">–ü–æ–¥–±–µ—Ä–µ–º –∏ –ø—Ä–∏–≤–µ–∑–µ–º –¥–ª—è –≤–∞—Å –∏–¥–µ–∞–ª—å–Ω—ã–π –∞–≤—Ç–æ –∏–∑ –°–®–ê, –ö–æ—Ä–µ–∏, –ö–∏—Ç–∞—è –∏ –ï–≤—Ä–æ–ø—ã –±–µ–∑ —Ä–∏—Å–∫–æ–≤</p>
        <a href="{% url 'create_order' %}" class="btn btn-primary btn-lg me-3">–û—Å—Ç–∞–≤–∏—Ç—å –∑–∞—è–≤–∫—É</a>
        <a href="{% url 'catalog' %}" class="btn btn-outline-light btn-lg">–°–º–æ—Ç—Ä–µ—Ç—å –∫–∞—Ç–∞–ª–æ–≥</a>
    </div>
</section>

<section class="py-5">
    <div class="container">
        <div class="row text-center">
            <div class="col-md-3 mb-4">
                <div class="feature-icon mb-3">üöó</div>
                <h4>–ê–≤—Ç–æ –∏–∑-–∑–∞ —Ä—É–±–µ–∂–∞</h4>
                <p>–°–®–ê, –ö–æ—Ä–µ—è, –ö–∏—Ç–∞–π, –ï–≤—Ä–æ–ø–∞ - —à–∏—Ä–æ–∫–∏–π –≤—ã–±–æ—Ä</p>
            </div>
            <div class="col-md-3 mb-4">
                <div class="feature-icon mb-3">üí∞</div>
                <h4>–≠–∫–æ–Ω–æ–º–∏—è –¥–æ 40%</h4>
                <p>–ü—Ä—è–º—ã–µ –ø–æ—Å—Ç–∞–≤–∫–∏ –±–µ–∑ –ø–æ—Å—Ä–µ–¥–Ω–∏–∫–æ–≤</p>
            </div>
            <div class="col-md-3 mb-4">
                <div class="feature-icon mb-3">üõ°Ô∏è</div>
                <h4>–ë–µ–∑ —Ä–∏—Å–∫–æ–≤</h4>
                <p>–ü–æ–ª–Ω–∞—è —é—Ä–∏–¥–∏—á–µ—Å–∫–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞</p>
            </div>
            <div class="col-md-3 mb-4">
                <div class="feature-icon mb-3">üöö</div>
                <h4>–ü–æ–¥ –∫–ª—é—á</h4>
                <p>–û—Ç –ø–æ–¥–±–æ—Ä–∞ –¥–æ –ø–æ—Å—Ç–∞–Ω–æ–≤–∫–∏ –Ω–∞ —É—á–µ—Ç</p>
            </div>
        </div>
    </div>
</section>

<section class="bg-light py-5">
    <div class="container">
        <h2 class="text-center mb-5">–ü–æ—Å–ª–µ–¥–Ω–∏–µ –∑–∞—è–≤–∫–∏</h2>
        <div class="row">
            {% for order in recent_orders %}
            <div class="col-md-4 mb-4">
                <div class="card order-card h-100">
                    <div class="card-body">
                        <h5 class="card-title">{{ order.desired_model }}</h5>
                        <p class="card-text">
                            <strong>–ë—é–¥–∂–µ—Ç:</strong> ${{ order.budget_max }}<br>
                            <strong>–ì–æ–¥:</strong> {{ order.year_min }}-{{ order.year_max }}
                        </p>
                        <span class="badge bg-{% if order.status == 'completed' %}success{% elif order.status == 'cancelled' %}danger{% else %}warning{% endif %}">
                            {{ order.get_status_display }}
                        </span>
                    </div>
                </div>
            </div>
            {% empty %}
            <div class="col-12 text-center">
                <p class="text-muted">–ü–æ–∫–∞ –Ω–µ—Ç –∑–∞—è–≤–æ–∫</p>
            </div>
            {% endfor %}
        </div>
    </div>
</section>

<section class="py-5">
    <div class="container">
        <h2 class="text-center mb-5">–û—Ç–∑—ã–≤—ã –∫–ª–∏–µ–Ω—Ç–æ–≤</h2>
        <div class="row">
            {% for review in reviews %}
            <div class="col-md-4 mb-4">
                <div class="card h-100">
                    <div class="card-body">
                        <div class="d-flex align-items-center mb-3">
                            <div class="bg-primary text-white rounded-circle d-flex align-items-center justify-content-center" 
                                 style="width: 40px; height: 40px;">
                                {{ review.client.full_name|first }}
                            </div>
                            <div class="ms-3">
                                <h6 class="mb-0">{{ review.client.full_name }}</h6>
                                <small class="text-muted">{{ review.review_date|date:"d.m.Y" }}</small>
                            </div>
                        </div>
                        <div class="mb-3">
                            {% for i in "12345" %}
                                <i class="fas fa-star{% if forloop.counter > review.rating %}-o text-muted{% else %} text-warning{% endif %}"></i>
                            {% endfor %}
                        </div><p class="card-text">{{ review.review_text|truncatewords:30 }}</p>
                    </div>
                </div>
            </div>
            {% empty %}
            <div class="col-12 text-center">
                <p class="text-muted">–ü–æ–∫–∞ –Ω–µ—Ç –æ—Ç–∑—ã–≤–æ–≤</p>
            </div>
            {% endfor %}
        </div>
    </div>
</section>
{% endblock %}